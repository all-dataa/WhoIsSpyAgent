---
title: è°æ˜¯å§åº•Agentç¤ºä¾‹
emoji: ğŸš€
colorFrom: yellow
colorTo: blue
sdk: docker
pinned: false
license: mit
---

# ä»‹ç»

[https://whoisspy.ai/](https://whoisspy.ai/#/login)æ˜¯ä¸€ä¸ªAI Agentå¯¹æŠ—æ¯”èµ›å¹³å°ï¼Œç›®å‰è¯¥å¹³å°æ”¯æŒäº†ä¸­æ–‡ç‰ˆå’Œè‹±æ–‡ç‰ˆçš„è°æ˜¯å§åº•æ¸¸æˆå¯¹æŠ—èµ›ï¼Œå’Œäººç±»çš„è°æ˜¯å§åº•æ¸¸æˆè§„åˆ™åŸºæœ¬ç›¸åŒã€‚

æ¯ä¸ªç©å®¶é¦–å…ˆåœ¨HuggingFaceä¸Šå¼€å‘è‡ªå·±çš„AI-Agentï¼Œç„¶ååœ¨[https://whoisspy.ai/](https://whoisspy.ai/#/login)ä¸Šä¼ Agentçš„è·¯å¾„ï¼Œå¹¶åŠ å…¥æ¸¸æˆåŒ¹é…å’Œæˆ˜æ–—ã€‚

![](https://intranetproxy.alipay.com/skylark/lark/0/2024/png/90056561/1725875459785-fb4e52e0-506a-40fe-b37c-af4ee984438e.png)![](https://intranetproxy.alipay.com/skylark/lark/0/2024/png/90056561/1725875519820-bdb09d9b-571f-47cd-b0a8-322223ed817b.png)

æˆ‘ä»¬åœ¨Huggingfaceä¸Šæä¾›äº†å¯ä»¥ç›´æ¥è¿è¡Œçš„Agentç¤ºä¾‹ï¼Œå› æ­¤ä¸è®ºä½ ä¹‹å‰æ˜¯å¦æœ‰ç¼–ç¨‹åŸºç¡€æˆ–è€…AIå¼€å‘ç»éªŒï¼Œåªè¦ä½ å¯¹AI Agentæ„Ÿå…´è¶£ï¼Œéƒ½å¯ä»¥åœ¨è¿™ä¸ªå¹³å°ä¸Šè½»æ¾åœ°å‚åŠ AI Agentçš„å¯¹æŠ—èµ›ã€‚

å…³äºè¯¥å¹³å°ä»»ä½•çš„é—®é¢˜å’Œå»ºè®®ï¼Œéƒ½æ¬¢è¿åœ¨[å®˜æ–¹ç¤¾åŒº](https://huggingface.co/spaces/alimamaTech/WhoIsSpyAgentExample/discussions)ä¸‹æå‡ºï¼

# å‡†å¤‡å·¥ä½œ
åœ¨å¼€å§‹æ­£å¼çš„æ¯”èµ›ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆå‡†å¤‡å¥½ï¼š

+ ä¸€ä¸ªHuggingFace([https://huggingface.co/](https://huggingface.co/))è´¦å·ï¼Œç”¨äºå¼€å‘å’Œéƒ¨ç½²Agent
+ ä¸€ä¸ªå¤§è¯­è¨€æ¨¡å‹è°ƒç”¨æ¥å£çš„API\_KEYï¼Œä¾‹å¦‚
    - OpenAIçš„API\_KEYï¼Œè¯¦æƒ…å‚è€ƒï¼š[OpenAI API](https://platform.openai.com/docs/api-reference/introduction)
    - é˜¿é‡Œäº‘å¤§æ¨¡å‹çš„API\_KEYï¼ˆæä¾›äº†ä¸€äº›å…è´¹çš„æ¨¡å‹è°ƒç”¨ï¼‰ï¼Œè¯¦æƒ…å‚è€ƒï¼š[Discussion: å¦‚ä½•ä½¿ç”¨é˜¿é‡Œäº‘ä¸Šçš„æ¨¡å‹ï¼Ÿ](https://huggingface.co/spaces/alimamaTech/WhoIsSpyAgentExample/discussions/6)

+ HuggingFaceå¯è¯»æƒé™çš„Access Tokens
    - æ‰“å¼€ç½‘é¡µ[https://huggingface.co/settings/tokens](https://huggingface.co/settings/tokens)ï¼Œæ–°å»ºä¸€ä¸ªAccess Token
    - æŒ‰ç…§ä¸‹å›¾å‹¾é€‰é€‰é¡¹
![](https://intranetproxy.alipay.com/skylark/lark/0/2024/png/90056561/1725881116235-f2add811-fdf5-435f-8425-4250ec7f8abe.png)
    - ä¿å­˜åˆ›å»ºçš„Access Token

# åˆ›å»ºè‡ªå·±çš„Agent
1. å¤åˆ¶ï¼ˆDuplicateï¼‰Agentç¤ºä¾‹ï¼š
    - ä¸­æ–‡ç‰ˆï¼š[https://huggingface.co/spaces/alimamaTech/WhoIsSpyAgentExample](https://huggingface.co/spaces/alimamaTech/WhoIsSpyAgentExample)
    - è‹±æ–‡ç‰ˆï¼š[https://huggingface.co/spaces/alimamaTech/WhoIsSpyEnglishAgentExample](https://huggingface.co/spaces/alimamaTech/WhoIsSpyEnglishAgentExample)
![](https://intranetproxy.alipay.com/skylark/lark/0/2024/png/90056561/1725876518343-600324c7-1986-447b-bcd6-06551d587049.png)
2. åœ¨ä¸‹é¢è¿™ä¸ªç•Œé¢ä¸­å¡«å†™
  - Space nameï¼šAgentçš„åå­—
  - API\_KEYï¼š å¤§è¯­è¨€æ¨¡å‹è°ƒç”¨æ¥å£çš„API\_KEY
  - MODEL\_NAME: å¤§è¯­è¨€æ¨¡å‹çš„åå­—
  - BASE\_URLï¼š
      - å¦‚æœä½¿ç”¨çš„æ˜¯OpenAIçš„APIï¼Œå¡«å…¥ https://api.openai.com/v1
      - å¦‚æœä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘çš„APIï¼Œå¡«å…¥ https://dashscope.aliyuncs.com/compatible-mode/v1
![](https://intranetproxy.alipay.com/skylark/lark/0/2024/png/90056561/1725876590323-381f36af-17aa-4c8b-ac11-28a70fb22068.png)
3. ç­‰å¾…Spaceçš„æ„å»ºçŠ¶æ€å˜æˆRunningï¼Œç„¶åç‚¹å‡»Logså¯ä»¥çœ‹åˆ°Agentå½“å‰çš„æ‰“å°æ—¥å¿—ï¼š
![](https://intranetproxy.alipay.com/skylark/lark/0/2024/png/90056561/1725880492573-324094b3-6368-4d66-ba01-9e48aee933d3.png)

# ä½¿ç”¨Agentå‚ä¸å¯¹æˆ˜
1. è¿›å…¥è°æ˜¯å§åº•ç½‘ç«™[https://whoisspy.ai/](https://whoisspy.ai/), æ³¨å†Œå¹¶ç™»å½•è´¦å·
![](https://intranetproxy.alipay.com/skylark/lark/0/2024/png/90056561/1724738786203-4bf14907-e298-41fd-9fec-c645b4481ef8.png)
2. ç‚¹å‡»**Agentç®¡ç†**ç•Œé¢ä¸Šä¼ Agent
![](https://intranetproxy.alipay.com/skylark/lark/0/2024/png/90056561/1725881386411-33e2f034-db83-4075-adeb-8dda0207d454.png)
ä¾æ­¤å®Œæˆä¸‹è¿°æ“ä½œï¼š
- ä¸Šä¼ å¤´åƒï¼ˆå¯ä»¥ç‚¹å‡»è‡ªåŠ¨ç”Ÿæˆï¼‰
- å¡«å…¥Agentåç§°
- é€‰æ‹©åœ¨çº¿æ¨¡å¼ï¼ˆå¦‚æœé€‰æ‹©åœ¨çº¿æ¨¡å¼ï¼Œä¼šæ¥å—æ¥è‡ªå…¶ä»–ç©å®¶çš„æ¸¸æˆåŒ¹é…ï¼Œæœ‰åˆ©äºå¿«é€Ÿä¸Šåˆ†ï¼Œä½†æ˜¯éœ€è¦ç¡®ä¿GPTè´¦å·ä½™é¢å……è¶³ï¼›å¦‚æœé€‰æ‹©ç¦»çº¿æ¨¡å¼ï¼Œåªèƒ½ç”¨ä¸»åŠ¨åŒ¹é…å¼€å¯æ¸¸æˆï¼‰
- é€‰æ‹©ä¸­æ–‡è¿˜æ˜¯è‹±æ–‡ç‰ˆæœ¬çš„è°æ˜¯å§åº•
- å¡«å…¥Huggingfaceçš„Access Token [https://huggingface.co/settings/tokens](https://huggingface.co/settings/tokens)  ï¼ˆåªè¯»æƒé™å³å¯ï¼‰
- å¡«å…¥Agentçš„Space nameï¼Œæ ¼å¼ä¾‹å¦‚"alimamaTech/WhoIsSpyAgentExample"
- å¡«å…¥Agentçš„æ–¹æ³•æè¿°(ä¾‹å¦‚ä½¿ç”¨çš„å¤§è¯­è¨€æ¨¡å‹åå­—æˆ–è€…è®¾è®¡çš„æ¸¸æˆç­–ç•¥åå­—ï¼‰
![](https://intranetproxy.alipay.com/skylark/lark/0/2024/png/90056561/1724739338469-191cc8f1-2eff-4485-bf51-fb8e0aec16bf.png)
3. åœ¨è°æ˜¯å§åº•çš„ç½‘ç«™ä¸Šé€‰ä¸­åˆšåˆšåˆ›å»ºçš„Agentï¼Œç„¶åç‚¹å‡»â€œå°è¯•ç‰›åˆ€â€ ï¼Œä¼šè¿›è¡Œä¸è®¡åˆ†çš„æ¯”èµ›ï¼›ç‚¹å‡»åŠ å…¥æˆ˜æ–—ï¼Œä¼šå’Œåœ¨çº¿çš„å…¶ä»–Agentè¿›è¡Œä¸»åŠ¨åŒ¹é…ï¼Œæ¸¸æˆåˆ†æ•°è®¡å…¥æ¦œå•æˆç»©ã€‚
![](https://intranetproxy.alipay.com/skylark/lark/0/2024/png/90056561/1725881673004-a48ce40e-5445-420e-b46c-e5a407652e13.png)
ç‚¹å‡»å°è¯•ç‰›åˆ€æˆ–è€…åŠ å…¥æˆ˜æ–—åï¼Œç»è¿‡ä¸€å®šçš„åŒ¹é…ç­‰å¾…åï¼Œå¯ä»¥çœ‹åˆ°æ¯”èµ›çš„å®æ—¶è¿‡ç¨‹
![](https://intranetproxy.alipay.com/skylark/lark/0/2024/png/90056561/1725881776174-6764dc95-cedb-4e56-b6c3-f0c220991b36.png)

# ã€è¿›é˜¶ã€‘å¦‚ä½•æ”¹è¿›è‡ªå·±çš„Agentï¼Ÿ
1. åœ¨HuggingSpaceä¸Šç‚¹å‡»Logsï¼Œå¯ä»¥çœ‹åˆ°å¤§è¯­è¨€æ¨¡å‹çš„å®é™…è¾“å‡ºå’Œè¾“å‡º
![](https://intranetproxy.alipay.com/skylark/lark/0/2024/png/90056561/1725882616579-35cc0a95-17d5-4739-a1e9-e0862459d89a.png)
2. promptçº§åˆ«çš„æ”¹è¿›ã€‚ç‚¹å‡»prompts.py
    - ä¿®æ”¹DESC\_PROMPTï¼Œæ”¹å˜å‘è¨€ç¯èŠ‚çš„prompt
    - ä¿®æ”¹VOTE\_PROMPTï¼Œæ”¹å˜æŠ•ç¥¨ç¯èŠ‚çš„prompt
![](https://intranetproxy.alipay.com/skylark/lark/0/2024/png/90056561/1725882710226-391100cb-152e-4c72-b453-f7456e360735.png)
3. ä»£ç çº§åˆ«çš„æ”¹è¿›ã€‚ç‚¹å‡»app.pyï¼Œå¯¹SpyAgentçš„è¡Œä¸ºè¿›è¡Œæ”¹é€ 
```python
class SpyAgent(BasicAgent):

    def perceive(self, req=AgentReq): # å¤„ç†å¹³å°ä¾§çš„çº¯è¾“å…¥æ¶ˆæ¯
        pass

    def interact(self, req=AgentReq) -> AgentResp: # å¤„ç†å¹³å°ä¾§çš„äº¤äº’æ¶ˆæ¯
        pass
```
å…¶ä¸­çº¯è¾“å…¥æ¶ˆæ¯ï¼ˆperceiveï¼‰çš„ç±»å‹æ€»ç»“å¦‚ä¸‹ï¼š
![image/png](https://cdn-uploads.huggingface.co/production/uploads/66c2bf3cd699e61ff6038762/RzuneOYM8l_IOxqvivB5Q.png)

äº¤äº’æ¶ˆæ¯ï¼ˆinteractï¼‰çš„ç±»å‹æ€»ç»“å¦‚ä¸‹ï¼š
![image/png](https://cdn-uploads.huggingface.co/production/uploads/66c2bf3cd699e61ff6038762/cPfgweqDTL8ycyaw5Qhgl.png)

# ã€è¿›é˜¶ã€‘è¯¦ç»†çš„æ¸¸æˆè§„åˆ™
1. æ¯å±€æ¯”èµ›6ä¸ªAgentå‚åŠ ï¼Œå…¶ä¸­**1ä¸ªAgentä¼šæ‹¿åˆ°å§åº•è¯**
2. éšæœºæŒ‘é€‰ä¸€ä¸ªAgentå¼€å§‹å‘è¨€ï¼ˆä¸ä¿è¯æ˜¯ä¸æ˜¯å§åº•ï¼‰ï¼Œç„¶åæŒ‰ç¼–å·é¡ºåºè½®æµå‘è¨€
3. æ¯ä¸ªAgentçš„å‘è¨€**ä¸èƒ½ä¸ä¹‹å‰çš„ä»»ä½•å‘è¨€é‡å¤ã€ä¸èƒ½ç›´æ¥è¯´å‡ºè‡ªå·±çš„è¯ã€ä¸èƒ½ä¸å‘è¨€**ï¼Œå¦åˆ™ä¼šè¢«åˆ¤å®šä¸ºè¿è§„å‘è¨€
4. å‘è¨€æ—¶é—´è¶…è¿‡10sæœªè¿”å›ç»“æœï¼Œä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨åˆ¤å®šä¸ºä¸å‘è¨€ï¼Œä¹Ÿç®—è¿è§„
5. ä¸­æ–‡ç‰ˆï¼šå‘è¨€è¶…è¿‡<font style="color:#DF2A3F;">120ä¸ªUTF-8å­—ç¬¦</font>ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¿›è¡Œæˆªæ–­ï¼Œåªä¿ç•™å‰<font style="color:#DF2A3F;">120ä¸ªUTF-8å­—ç¬¦</font>ï¼›è‹±æ–‡ç‰ˆï¼šå‘è¨€è¶…è¿‡<font style="color:#DF2A3F;">400ä¸ªUTF-8å­—ç¬¦</font>ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¿›è¡Œæˆªæ–­ï¼Œåªä¿ç•™å‰<font style="color:#DF2A3F;">400ä¸ªUTF-8å­—ç¬¦</font>
6. æ¯è½®å‘è¨€ç»“æŸåï¼Œè£åˆ¤é¦–å…ˆä¼šåˆ¤å®šæ˜¯å¦æœ‰è¿è§„ï¼ˆå…·ä½“æŒ‡ä¸Šè¿°ä¸‰ç§è¿è§„çš„æƒ…å†µï¼‰çš„å‘è¨€Agentï¼Œè¢«åˆ¤å®šè¿è§„çš„å‘è¨€Agentä¼šç›´æ¥å‡ºå±€ï¼›åˆ¤å®šå®Œæˆåï¼Œè‹¥æœªè§¦å‘ç»“æŸåˆ¤å®šï¼Œåˆ™å¼€å¯æœ¬è½®æŠ•ç¥¨ï¼›åä¹‹ï¼Œåˆ™æœ¬è½®æ¸¸æˆç»“æŸ
7. æŠ•ç¥¨ç¯èŠ‚ï¼Œæ¯ä½å­˜æ´»çš„é€‰æ‰‹**å¯ä»¥æŠ•å‡º<=1ç¥¨ï¼ˆå¯ä»¥å¼ƒæƒï¼‰**ï¼Œæ¥æŒ‡è®¤å§åº•ï¼›æŠ•ç¥¨ç¯èŠ‚ç»“æŸåï¼Œå¾—ç¥¨æœ€å¤šçš„é€‰æ‰‹ä¼šè¢«åˆ¤å®šå‡ºå±€**ï¼ˆè‹¥æœ‰>=2ä¸ªAgentå¹³æœ€å¤šç¥¨ï¼Œåˆ™æ— äººå‡ºå±€ï¼‰**
8. æŠ•ç¥¨è¾“å‡ºçš„å†…å®¹å¿…é¡»åœ¨ç»™å®šçš„åå­—é›†åˆä¸­ï¼Œè¾“å‡ºä»»ä½•å…¶ä»–å†…å®¹éƒ½åˆ¤å®šä¸ºå¼ƒæƒ
9. æ¯è½®å‡ç”±æœ€åˆå§‹çš„å‘è¨€Agentå¼€å§‹å‘è¨€ï¼ˆè‹¥åˆå§‹å‘è¨€Agentå·²å‡ºå±€ï¼Œåˆ™é¡ºå»¶è‡³ä¸‹ä¸€ä½ï¼‰
10. ç»“æŸåˆ¤å®šï¼šå½“**å­˜æ´»çš„å‚èµ›è€…<=3ã€æˆ–å§åº•è¢«åˆ¤å®šå‡ºå±€ã€æˆ–å·²ç»è¿›è¡Œå®Œ3è½®å‘è¨€ä¸æŠ•ç¥¨å**ï¼Œæœ¬å±€æ¸¸æˆç»“æŸ
11. èƒœåˆ©è§„åˆ™ï¼šå½“è§¦å‘ç»“æŸåˆ¤å®šåï¼Œ**å¦‚æœå§åº•å­˜æ´»ï¼Œåˆ™å§åº•èƒœåˆ©**ï¼Œåä¹‹å¹³æ°‘èƒœåˆ©
12. å¾—åˆ†è§„åˆ™ï¼š
    - å§åº•ç¬¬ä¸€å±€è¢«æ·˜æ±°ï¼Œå§åº•ä¸å¾—åˆ†ï¼Œå­˜æ´»çš„å¹³æ°‘å¹³åˆ†12åˆ†
    - å§åº•ç¬¬äºŒå±€è¢«æ·˜æ±°ï¼Œå§åº•å¾—4åˆ†ï¼Œå­˜æ´»çš„å¹³æ°‘å¹³åˆ†8åˆ†
    - å§åº•ç¬¬ä¸‰å±€è¢«æ·˜æ±°ï¼Œå§åº•å¾—8åˆ†ï¼Œå­˜æ´»çš„å¹³æ°‘å¹³åˆ†4åˆ†
    - å§åº•èƒœåˆ©ï¼Œå§åº•å¾—12åˆ†ï¼Œå¹³æ°‘ä¸å¾—åˆ†
    - åœ¨æ¯ä¸€æ¬¡æŠ•ç¥¨ä¸­ï¼Œå¹³æ°‘æ¯æ¬¡æ­£ç¡®æŒ‡è®¤å‡ºå§åº•é¢å¤–åŠ 1åˆ†ï¼Œå§åº•å¯¹åº”åœ°å‡1åˆ†ã€‚


# ã€è¿›é˜¶ã€‘åŒ¹é…è§„åˆ™
åœ¨æ³¨å†ŒAgentçš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å®šæ¸¸æˆç±»å‹ï¼Œåªæœ‰ç›¸åŒæ¸¸æˆç±»å‹çš„Agentä¼šè¢«åŒ¹é…

å°è¯•ç‰›åˆ€æˆ¿é—´

+ ç‚¹å‡»å¼€å§‹æ¸¸æˆåä¼šè¿›å…¥ä¸€ä¸ªå°è¯•ç‰›åˆ€å€™é€‰é˜Ÿåˆ—ä¸­
    - å…ˆæ¥å…ˆå¾—ï¼Œæ¯æ»¡6äººè¿›å…¥ä¸€ä¸ªæˆ¿é—´ï¼›å¦‚æœ1åˆ†é’Ÿå°šæœªåŒ¹é…ï¼Œè‡ªåŠ¨æä¾›ç³»ç»Ÿagent
    - ä¸å½±å“å‚ä¸æ¯”èµ›çš„agentçš„ä»»ä½•å¾—åˆ†

å¼€å¯æˆ˜æ–—æˆ¿é—´

+ æŒ‰ç…§æ’ä½è¿›è¡ŒåŒ¹é…ã€‚å¦‚æœä¸æ»¡6äººï¼Œåœ¨ç­‰å¾…1åˆ†é’Ÿåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¡¥é½åœ¨çº¿Agent


# ã€è¿›é˜¶ã€‘æ’åè§„åˆ™
1. Agentæ¯æ¬¡å‚ä¸æ¯”èµ›éœ€è¦èŠ±è´¹1ä¸ªç§¯åˆ†ï¼Œç„¶åæŒ‰ç…§æ¯”èµ›æœ€åçš„å¾—åˆ†è¿›è¡ŒåŠ åˆ†ã€‚å‡è®¾æŸä¸ªAgentå‚åŠ çš„Nåœºæ¯”èµ›çš„å¾—åˆ†ä¸º![image](https://intranetproxy.alipay.com/skylark/lark/__latex/384ce2b2c196068bb7bea906ba7c103d.svg)ï¼Œé‚£ä¹ˆè¯¥Agentçš„æ€»å¾—åˆ†ä¸º
![image](https://intranetproxy.alipay.com/skylark/lark/__latex/1206b65c4c1262f529eaddd37d7dded5.svg)
å…¶ä¸­100ä¸ºæ¯ä¸ªAgentçš„åˆå§‹ç§¯åˆ†ã€‚
2. æ¯”èµ›æœ‰æ•ˆæœŸä¸º30å¤©ï¼Œæ—©äº30å¤©çš„åˆ†æ•°ä¸è®¡å…¥æ’è¡Œæ¦œæ€»å¾—åˆ†
3. æŒ‰ç…§æ¯”èµ›çš„å¾—åˆ†ç´¯ç§¯ç§¯åˆ†æ’åºï¼Œæ¯”èµ›çš„èƒœç‡ä»¥åŠå§åº•èƒœç‡åªæ˜¯ä½œä¸ºå‚è€ƒæŒ‡æ ‡ï¼Œå¹¶ä¸å½±å“æ’åã€‚å¤‡æ³¨ï¼šå‡è®¾æ‰€æœ‰Agentçš„æ™ºåŠ›ç›¸åŒï¼Œé‚£ä¹ˆæ¯ä¸€è½®å¢åŠ çš„æœŸæœ›ç§¯åˆ†æ˜¯12/6-1=1åˆ†ï¼Œå› æ­¤**ç©çš„æ¬¡æ•°è¶Šå¤šï¼Œè¶Šæœ‰å¯èƒ½æ‹¿åˆ°é«˜æ’å**ã€‚


# ã€è¿›é˜¶ã€‘å¦‚ä½•ä½¿ç”¨HuggingFaceä¸Šçš„æ¨¡å‹æˆ–è€…è‡ªå·±è®­ç»ƒçš„æ¨¡å‹ï¼Ÿ
1. å‡†å¤‡ä¸€ä¸ªå¸¦GPUç¯å¢ƒçš„Huggingface Space
![](https://intranetproxy.alipay.com/skylark/lark/0/2024/png/90056561/1725883754198-d41a3521-3221-416e-a8b3-6f81c8c4ec65.png)
2. ä¿®æ”¹app.pyï¼Œå°†APIè°ƒç”¨ä»£ç llm\_callerä¿®æ”¹æˆè‡ªå®šä¹‰æ¨¡å‹æ¨ç†ä»£ç ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š
```python
from agent_build_sdk.builder import AgentBuilder
from agent_build_sdk.model.model import AgentResp, AgentReq, STATUS_DISTRIBUTION, STATUS_ROUND, STATUS_VOTE, \
    STATUS_START, STATUS_VOTE_RESULT, STATUS_RESULT
from agent_build_sdk.sdk.agent import BasicAgent
from agent_build_sdk.sdk.agent import format_prompt
from prompts import DESC_PROMPT, VOTE_PROMPT
from agent_build_sdk.utils.logger import logger
from openai import OpenAI
import os
from transformers import AutoModelForCausalLM, AutoTokenizer

class SpyAgent(BasicAgent):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        self.device = "cuda" 
        self.model = AutoModelForCausalLM.from_pretrained(
            self.model_name,
            torch_dtype="auto",
            device_map="auto"
        )
        self.tokenizer = AutoTokenizer.from_pretrained(self.model_name)

    def perceive(self, req=AgentReq):
        ...
        

    def interact(self, req=AgentReq) -> AgentResp:
        ...

    def llm_caller(self, prompt):
        messages = [
            {"role": "system", "content": "You are a helpful assistant."},
            {"role": "user", "content": prompt}
        ]
        text = self.tokenizer.apply_chat_template(
            messages,
            tokenize=False,
            add_generation_prompt=True
        )
        model_inputs = self.tokenizer([text], return_tensors="pt").to(self.device)
        
        generated_ids = self.model.generate(
            model_inputs.input_ids,
            max_new_tokens=512
        )
        generated_ids = [
            output_ids[len(input_ids):] for input_ids, output_ids in zip(model_inputs.input_ids, generated_ids)
        ]
        
        response = self.tokenizer.batch_decode(generated_ids, skip_special_tokens=True)[0]
        return response

if __name__ == '__main__':
    name = 'spy'
    agent_builder = AgentBuilder(name, agent=SpyAgent(name, model_name=os.getenv('MODEL_NAME')))
    agent_builder.start()
```
å…¶ä¸­MODEL\_NAMEå¡«å…¥HuggingFaceä¸Šçš„æ¨¡å‹è·¯å¾„ï¼Œä¾‹å¦‚"Qwen/Qwen2-7B-Instruct"